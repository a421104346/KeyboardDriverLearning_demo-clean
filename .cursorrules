# Project Rules

## Tech Stack
- **Framework**: Vue 3 + TypeScript
- **Build Tool**: Vite (Rolldown ready)
- **Desktop Framework**: Electron
- **UI Library**: TDesign Vue Next
- **State Management**: Pinia
- **Routing**: Vue Router
- **Internationalization**: Vue I18n
- **Charts**: ECharts
- **Animation**: GSAP
- **Styling**: SCSS + PostCSS
- **HID Communication**: node-hid (Electron) / WebHID (Web)
- **Utils**: VueUse

## Code Style
- Use `<script setup lang="ts">` (Composition API).
- Use SCSS for styling.
- **UI Components**: Prefer using **TDesign Vue Next** components (`<t-button>`, `<t-select>`, `<t-switch>`, etc.) over custom implementations.
- **State Management**: Use Pinia stores defined in `src/stores/`.

## Device Communication
- The project relies on `HSDK` for HID communication.
- `HSDK` is provided as a pre-compiled JS module.
- Connection flow:
  1. `service.getDevices()` to list/connect.
  2. `service.connectDevice(deviceId)` to connect.
  3. `service.setLightAreaRGB(areaId, rgbData)` to control lights.

## Directory Structure
- `src/sdk/`: Contains the HSDK library.
- `src/components/`: UI components.
- `src/views/`: Main views.

## Device Protocol Reference
- Vendor ID: 0x34b7
- Product ID: 0xffff
- Usage Page: 0xff00
- Usage: 0x01
- Main Light Protocol:
  - CMD_LED_CONTROL: 0x31
  - SUB_RGB: 0x04
  - Packet size: 64 bytes
